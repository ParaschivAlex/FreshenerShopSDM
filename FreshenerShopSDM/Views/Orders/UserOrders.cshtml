@if (TempData.ContainsKey("message"))
{
    <h1 class="text-center"> @ViewBag.message&nbsp;</h1>
    <br />
}

@model FreshenerShopSDM.Models.Order

<h2 class="text-center">Your orders:</h2><br />

<div class="row row-cols-1 row-cols-lg-2 row-cols-md-2 row-cols-sm-1 row-cols-xl-3">
@foreach (var order in ViewBag.Orders)
{
    <div class="col mb-4 text-center">
        <div class="card h-100 border-secondary mb-3">
            <div class="card-header"><h5>Order Id: @order.OrderId</h5></div>
                <div class="card-body">                   
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item text-center">
                            <i class="fa fa-mobile-phone">&ensp;Phone: <strong>@order.OrderPhone</strong></i>
                        </li>
                        <li class="list-group-item text-center">
                            <i class="fa fa-money">&ensp;Total: <strong>@order.OrderTotal</strong></i>
                        </li>
                        <li class="list-group-item text-center">
                            <i class="fa fa-calendar">&ensp;Date: <strong>@order.OrderModifyDate</strong></i>
                        </li>
                        <li class="list-group-item text-center">
                            <i class="fa">&ensp;Email: <strong>@order.OrderEmail</strong></i>
                        </li>
                        <li class="list-group-item text-center">
                            <a class="btn btn-sm btn-success fa fa-search" href="/Orders/UserShowOrder/@order.OrderId">&ensp;Show details.</a>
                        </li>
                        <li class="list-group-item text-center">
                            @if (order.OrderSent == false)
                            {
                                using (Html.BeginForm(actionName: "Delete", controllerName: "Orders", routeValues: new { id = order.OrderId }))
                                {
                                    @Html.HttpMethodOverride(HttpVerbs.Delete)
                                    <button class="btn btn-sms btn-danger fa fa-trash" type="submit">&ensp;Cancel order</button>
                                }
                                <p>If you want to edit your order, please contact us via email/phone or cancel this order and make another.</p>
                            }
                            @if (order.OrderSent == true)
                            {
                                <p><strong>You can not cancel this order, it has already been processed and sent to you. Please contact us via email/phone for more information.</strong></p>
                            }
                        </li>
                    </ul>
                </div>
            </div>
    </div>
}
</div>
